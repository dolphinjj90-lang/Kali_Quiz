<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ITEC CTF ‚Äî Kali Quiz</title>
<style>
  :root{
    --bg1:#0f1724;
    --bg2:#071428;
    --accent:#00b39f;
    --muted:#9aa4b2;
    --card:#0b1220;
  }
  html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{
    background: radial-gradient(600px 400px at 10% 10%, rgba(0,179,159,0.06), transparent),
                linear-gradient(120deg,var(--bg1), var(--bg2));
    color:#e6eef6;
    -webkit-font-smoothing:antialiased;
    user-select:none;
  }
  .wrap{max-width:980px;margin:36px auto;padding:20px;}
  header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
  .logo{
    width:72px;height:72px;border-radius:10px;
    background:linear-gradient(135deg,#021426,#032a3a);
    display:flex;align-items:center;justify-content:center;
    box-shadow:0 6px 18px rgba(0,0,0,0.6), inset 0 -4px 14px rgba(0,0,0,0.3);
    border:1px solid rgba(255,255,255,0.03)
  }
  .logo span{font-weight:700;color:var(--accent);font-size:20px;letter-spacing:1px}
  h1{margin:0;font-size:20px}
  p.subtitle{margin:2px 0 0;color:var(--muted);font-size:13px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.005)); border-radius:12px;padding:20px;box-shadow:0 8px 30px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}
  .meta{display:flex;gap:12px;align-items:center;margin-bottom:12px;flex-wrap:wrap}
  .pill{background:rgba(0,0,0,0.3);padding:8px 12px;border-radius:999px;color:var(--muted);font-size:13px;display:inline-flex;gap:8px;align-items:center}
  .timer{font-weight:700;color:var(--accent);font-size:20px}
  .progress{height:10px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden;flex:1}
  .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#007f7f);width:0%}
  .question-area{margin-top:16px}
  .qnum{color:var(--muted);font-size:13px;margin-bottom:8px}
  .question{font-size:18px;margin:0 0 12px}
  .options{display:grid;gap:8px}
  .option{background:rgba(255,255,255,0.02);padding:12px;border-radius:8px;cursor:pointer;border:1px solid transparent;transition:all .12s;display:flex;align-items:center;gap:12px}
  .option input{display:none}
  .option:hover{transform:translateY(-3px);box-shadow:0 10px 22px rgba(0,0,0,0.5)}
  .option.selected{background:rgba(0,179,159,0.08);border-color:rgba(0,179,159,0.25)}
  .controls{display:flex;gap:8px;align-items:center;justify-content:space-between;margin-top:16px;flex-wrap:wrap}
  button{background:var(--accent);color:#052427;border:0;padding:10px 14px;border-radius:8px;cursor:pointer;font-weight:700}
  button.ghost{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04)}
  .small{font-size:13px;padding:8px 10px;border-radius:8px}
  .result{margin-top:14px;padding:12px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.01));color:var(--muted)}
  .flag{font-family:monospace;background:rgba(255,255,255,0.02);padding:12px;border-radius:8px;margin-top:12px;color:#a9ffef;word-break:break-all;}
  footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo"><span>KALI</span></div>
      <div>
        <h1>ITEC CTF ‚Äî Kali / BlackArch Quiz</h1>
        <p class="subtitle">Medium difficulty ‚Äî achieve <strong>37/40</strong> to unlock the flag. Timer: <strong>5:30</strong></p>
      </div>
    </header>

    <div class="card" id="quizCard" aria-live="polite">
      <div class="meta">
        <div class="pill">Questions: <strong id="totalQ">40</strong></div>
        <div class="pill">Need: <strong>37</strong></div>
        <div class="pill">Score: <strong id="currentScore">0</strong></div>
        <div class="pill timer" id="timer">05:30</div>
        <div class="progress" aria-hidden="true"><i id="progBar"></i></div>
      </div>

      <div class="question-area" id="qa"></div>

      <div class="controls">
        <div style="display:flex;gap:8px;align-items:center;">
          <button id="prevBtn" class="small ghost">‚Üê Prev</button>
          <button id="nextBtn" class="small ghost">Next ‚Üí</button>
          <button id="submitBtn" class="small">Submit</button>
        </div>
        <div>
          <button id="restartBtn" class="small ghost">Restart</button>
        </div>
      </div>

      <div id="result" class="result" style="display:none"></div>
      <div id="flagBox" style="display:none">
        <div class="flag" id="flagText">[flag will appear here]</div>
      </div>
    </div>

    <footer>
      üî®ü§ñüîß Kali-themed quiz ‚Ä¢ Hosted on GitHub Pages.
    </footer>
  </div>

<script>
/* --- Quiz Config --- */
const PASSING_SCORE = 37;
const TIMER_SEC = 330;

/* --- Questions --- */
const QUESTIONS = [
  {q:"What package manager is native to Kali Linux?", opts:["pacman","apt","dnf"], a:1},
  {q:"BlackArch is based on?", opts:["Debian","Arch","Fedora"], a:1},
  // ... (continue with your 40 questions)
];

/* --- Obfuscated Flag --- */
const FLAG_CODE = [73,84,69,67,84,70,50,48,50,53,123,111,102,102,101,110,115,105,118,101,95,115,101,99,117,114,105,116,89,95,50,48,50,53,125];

/* --- State --- */
let answers=new Array(QUESTIONS.length).fill(null),cur=0,timer=TIMER_SEC,timerInterval=null;

/* --- DOM --- */
const qa=document.getElementById("qa"),totalQ=document.getElementById("totalQ"),timerEl=document.getElementById("timer"),progBar=document.getElementById("progBar"),currentScoreEl=document.getElementById("currentScore"),prevBtn=document.getElementById("prevBtn"),nextBtn=document.getElementById("nextBtn"),submitBtn=document.getElementById("submitBtn"),restartBtn=document.getElementById("restartBtn"),resultBox=document.getElementById("result"),flagBox=document.getElementById("flagBox"),flagText=document.getElementById("flagText");

/* --- Functions --- */
function pad(n){return n<10?"0"+n:n}
function renderQuestion(i){const e=QUESTIONS[i];qa.innerHTML=`<div class="qnum">Question ${i+1} of ${QUESTIONS.length}</div><h2 class="question">${e.q}</h2><div class="options">${e.opts.map((o,j)=>`<label class="option ${answers[i]===j?"selected":""}" data-i="${j}"><input type="radio" name="opt" ${answers[i]===j?"checked":""} value="${j}"/><div style="flex:1">${String.fromCharCode(65+j)}. ${o}</div></label>`).join("")}</div>`;document.querySelectorAll(".option").forEach(t=>{t.onclick=()=>{answers[i]=Number(t.getAttribute("data-i")),document.querySelectorAll(".option").forEach(x=>x.classList.remove("selected")),t.classList.add("selected"),updateScore()}}),prevBtn.disabled=cur===0,nextBtn.disabled=cur===QUESTIONS.length-1}
function updateScore(){let s=0;for(let i=0;i<QUESTIONS.length;i++)answers[i]===QUESTIONS[i].a&&s++;currentScoreEl.textContent=s}
function startTimer(){clearInterval(timerInterval),timer=TIMER_SEC,updateTimer(),timerInterval=setInterval(()=>{timer--,timer<=0?(clearInterval(timerInterval),alert("Time up!"),restartQuiz()):updateTimer()},1e3)}
function updateTimer(){const m=Math.floor(timer/60),s=timer%60;timerEl.textContent=pad(m)+":"+pad(s);progBar.style.width=(100-Math.floor(timer/TIMER_SEC*100))+"%"}
function submitQuiz(){let f=0;for(let i=0;i<QUESTIONS.length;i++)answers[i]===QUESTIONS[i].a&&f++;resultBox.style.display="block",f>=PASSING_SCORE?(resultBox.innerHTML=`Score: ${f}/${QUESTIONS.length} ‚Äî PASS`,revealFlag()):(resultBox.innerHTML=`Score: ${f}/${QUESTIONS.length} ‚Äî FAIL`,flagBox.style.display="none")}
function revealFlag(){flagText.textContent=String.fromCharCode(...FLAG_CODE),flagBox.style.display="block"}
function restartQuiz(){answers=new Array(QUESTIONS.length).fill(null),cur=0,resultBox.style.display="none",flagBox.style.display="none",currentScoreEl.textContent="0",renderQuestion(0),startTimer()}

/* --- Events --- */
prevBtn.onclick=()=>{cur>0&&(cur--,renderQuestion(cur))},nextBtn.onclick=()=>{cur<QUESTIONS.length-1&&(cur++,renderQuestion(cur))},submitBtn.onclick=submitQuiz,restartBtn.onclick=restartQuiz;

/* --- Init --- */
totalQ.textContent=QUESTIONS.length,renderQuestion(0),startTimer(),updateScore();
</script>
</body>
</html>
