<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ITEC CTF ‚Äî Kali Quiz</title>
<style>
  :root{
    --bg1:#0f1724;
    --bg2:#071428;
    --accent:#00b39f;
    --muted:#9aa4b2;
  }
  html,body{height:100%;margin:0;font-family:sans-serif;background:linear-gradient(120deg,var(--bg1), var(--bg2));color:#e6eef6;}
  .wrap{max-width:900px;margin:36px auto;padding:20px;}
  header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
  .logo{width:60px;height:60px;border-radius:10px;background:#032a3a;display:flex;align-items:center;justify-content:center;color:var(--accent);font-weight:bold}
  h1{margin:0;font-size:22px}
  p.subtitle{margin:2px 0 0;color:var(--muted);font-size:14px}
  .card{background:rgba(255,255,255,0.05);border-radius:12px;padding:20px;}
  .meta{display:flex;gap:12px;align-items:center;margin-bottom:12px;flex-wrap:wrap}
  .pill{background:rgba(0,0,0,0.3);padding:6px 10px;border-radius:999px;color:var(--muted);font-size:13px}
  .timer{font-weight:700;color:var(--accent);font-size:18px}
  .progress{height:10px;background:rgba(255,255,255,0.1);border-radius:999px;overflow:hidden;flex:1}
  .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#007f7f);width:0%}
  .qnum{color:var(--muted);font-size:13px;margin-bottom:8px}
  .question{font-size:18px;margin:0 0 12px}
  .options{display:grid;gap:8px}
  .option{background:rgba(255,255,255,0.05);padding:12px;border-radius:8px;cursor:pointer;transition:all .1s}
  .option:hover{background:rgba(0,179,159,0.15)}
  .option.selected{background:rgba(0,179,159,0.3)}
  .controls{display:flex;gap:8px;align-items:center;justify-content:space-between;margin-top:16px;flex-wrap:wrap}
  button{background:var(--accent);color:#052427;border:0;padding:10px 14px;border-radius:8px;cursor:pointer;font-weight:700}
  button.ghost{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.2)}
  .small{font-size:13px;padding:8px 10px}
  .result{margin-top:14px;padding:12px;border-radius:8px;background:rgba(0,0,0,0.3);color:#fff}
  .flag{font-family:monospace;background:rgba(0,0,0,0.6);padding:12px;border-radius:8px;margin-top:12px;color:#a9ffef;word-break:break-all;}
  footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">KALI</div>
      <div>
        <h1>ITEC CTF ‚Äî Kali / BlackArch Quiz</h1>
        <p class="subtitle">45 questions ‚Ä¢ Need <strong>60%</strong> (27/45) to unlock the flag.</p>
      </div>
    </header>

    <div class="card" id="quizCard">
      <div class="meta">
        <div class="pill">Questions: <strong id="totalQ">45</strong></div>
        <div class="pill">Need: <strong>27</strong></div>
        <div class="pill">Score: <strong id="currentScore">0</strong></div>
        <div class="pill timer" id="timer">05:30</div>
        <div class="progress"><i id="progBar"></i></div>
      </div>

      <div class="question-area" id="qa"></div>

      <div class="controls">
        <div>
          <button id="prevBtn" class="small ghost">‚Üê Prev</button>
          <button id="nextBtn" class="small ghost">Next ‚Üí</button>
          <button id="submitBtn" class="small">Submit</button>
        </div>
        <button id="restartBtn" class="small ghost">Restart</button>
      </div>

      <div id="result" class="result" style="display:none"></div>
      <div id="flagBox" style="display:none">
        <div class="flag">ITECTF2025{PeNtester}</div>
      </div>
    </div>

    <footer>
      üî®ü§ñüîß Hosted on GitHub Pages ‚Äî protections are basic deterrents only.
    </footer>
  </div>

<script>
/* --- Config --- */
const PASSING_SCORE = 27; // 60%
const TIMER_SEC = 330;

/* --- 45 Questions --- */
const QUESTIONS = [
  {q:"What package manager is used in Kali Linux?", opts:["pacman","apt","dnf"], a:1},
  {q:"BlackArch is based on which distro?", opts:["Debian","Arch","Fedora"], a:1},
  {q:"Which tool scans networks?", opts:["nmap","nano","vim"], a:0},
  {q:"What port does SSH use?", opts:["22","80","443"], a:0},
  {q:"HTTPS default port?", opts:["443","80","21"], a:0},
  {q:"What tool cracks Wi-Fi keys?", opts:["aircrack-ng","ifconfig","scp"], a:0},
  {q:"Which tool brute-forces passwords?", opts:["hydra","ls","cat"], a:0},
  {q:"Which tool for SQL injection?", opts:["sqlmap","top","ping"], a:0},
  {q:"Which file stores Linux users?", opts:["/etc/passwd","/var/log","/home"], a:0},
  {q:"Hashed passwords stored in?", opts:["/etc/shadow","/bin","/etc/hosts"], a:0},
  {q:"Exploit framework?", opts:["Metasploit","curl","awk"], a:0},
  {q:"ARP resolves?", opts:["IP‚ÜíMAC","Port‚ÜíApp","User‚ÜíPID"], a:0},
  {q:"Tool for SMB shares?", opts:["enum4linux","ssh","ps"], a:0},
  {q:"What replaces netstat?", opts:["ss","ls","cat"], a:0},
  {q:"Tool for packet capture?", opts:["tcpdump","nano","rm"], a:0},
  {q:"Principle of pentesting?", opts:["Authorization","Always attack","Ignore rules"], a:0},
  {q:"Which file holds sudo rules?", opts:["/etc/sudoers","/etc/sudo","/etc/root"], a:0},
  {q:"Update packages (Debian)?", opts:["apt update","pacman -Syu","yum update"], a:0},
  {q:"Kernel hardening feature?", opts:["SELinux","nano","vim"], a:0},
  {q:"AppArmor is a?", opts:["Security module","Package manager","File"], a:0},
  {q:"iptables is used for?", opts:["Firewall","Password cracking","Editing"], a:0},
  {q:"Default FTP port?", opts:["21","23","110"], a:0},
  {q:"Telnet port?", opts:["23","22","25"], a:0},
  {q:"SMTP port?", opts:["25","53","22"], a:0},
  {q:"DNS port?", opts:["53","21","110"], a:0},
  {q:"POP3 port?", opts:["110","443","8080"], a:0},
  {q:"IMAP port?", opts:["143","22","161"], a:0},
  {q:"Ping uses?", opts:["ICMP","TCP","UDP"], a:0},
  {q:"Which command shows processes?", opts:["ps","ls","mv"], a:0},
  {q:"Command for routing table?", opts:["ip route","whoami","pwd"], a:0},
  {q:"Tool for cracking hashes?", opts:["hashcat","scp","curl"], a:0},
  {q:"john is used for?", opts:["Password cracking","File editing","Web scan"], a:0},
  {q:"Nikto is used for?", opts:["Web scanning","Bruteforce","File listing"], a:0},
  {q:"nmap is used for?", opts:["Network mapping","Package install","Compile"], a:0},
  {q:"sqlmap is used for?", opts:["SQL injection","WiFi attack","DNS check"], a:0},
  {q:"Command to check user?", opts:["whoami","cat","ls"], a:0},
  {q:"chmod changes?", opts:["Permissions","Ports","Processes"], a:0},
  {q:"chown changes?", opts:["File ownership","Networking","Password"], a:0},
  {q:"ASLR provides?", opts:["Random memory layout","Port scanning","Logging"], a:0},
  {q:"NX/DEP prevents?", opts:["Exec on stack","Root login","ICMP"], a:0},
  {q:"Default HTTP port?", opts:["80","22","143"], a:0},
  {q:"Default MySQL port?", opts:["3306","1433","5432"], a:0},
  {q:"Default PostgreSQL port?", opts:["5432","3306","8080"], a:0},
  {q:"Tool to capture GUI sessions?", opts:["xspy","netstat","ps"], a:0},
  {q:"Tool to crack Windows hashes?", opts:["pwdump","ls","echo"], a:0}
];

/* --- State --- */
let answers=new Array(QUESTIONS.length).fill(null),cur=0,timer=TIMER_SEC,timerInterval=null;

/* --- DOM --- */
const qa=document.getElementById("qa"),totalQ=document.getElementById("totalQ"),timerEl=document.getElementById("timer"),progBar=document.getElementById("progBar"),currentScoreEl=document.getElementById("currentScore"),prevBtn=document.getElementById("prevBtn"),nextBtn=document.getElementById("nextBtn"),submitBtn=document.getElementById("submitBtn"),restartBtn=document.getElementById("restartBtn"),resultBox=document.getElementById("result"),flagBox=document.getElementById("flagBox");

/* --- Functions --- */
function pad(n){return n<10?"0"+n:n}
function renderQuestion(i){const e=QUESTIONS[i];qa.innerHTML=`<div class="qnum">Q ${i+1} of ${QUESTIONS.length}</div><h2 class="question">${e.q}</h2><div class="options">${e.opts.map((o,j)=>`<div class="option ${answers[i]===j?"selected":""}" data-i="${j}">${String.fromCharCode(65+j)}. ${o}</div>`).join("")}</div>`;document.querySelectorAll(".option").forEach(t=>{t.onclick=()=>{answers[i]=Number(t.getAttribute("data-i")),renderQuestion(i),updateScore()}});prevBtn.disabled=cur===0;nextBtn.disabled=cur===QUESTIONS.length-1}
function updateScore(){let s=0;for(let i=0;i<QUESTIONS.length;i++)answers[i]===QUESTIONS[i].a&&s++;currentScoreEl.textContent=s}
function startTimer(){clearInterval(timerInterval),timer=TIMER_SEC,updateTimer(),timerInterval=setInterval(()=>{timer--,timer<=0?(clearInterval(timerInterval),alert("Time up!"),restartQuiz()):updateTimer()},1e3)}
function updateTimer(){const m=Math.floor(timer/60),s=timer%60;timerEl.textContent=pad(m)+":"+pad(s);progBar.style.width=(100-Math.floor(timer/TIMER_SEC*100))+"%"}
function submitQuiz(){let f=0;for(let i=0;i<QUESTIONS.length;i++)answers[i]===QUESTIONS[i].a&&f++;resultBox.style.display="block";if(f>=PASSING_SCORE){resultBox.innerHTML=`Score: ${f}/${QUESTIONS.length} ‚Äî PASS`;flagBox.style.display="block"}else{resultBox.innerHTML=`Score: ${f}/${QUESTIONS.length} ‚Äî FAIL (Need ${PASSING_SCORE})`;flagBox.style.display="none"}}
function restartQuiz(){answers=new Array(QUESTIONS.length).fill(null),cur=0,resultBox.style.display="none",flagBox.style.display="none",currentScoreEl.textContent="0",renderQuestion(0),startTimer()}

/* --- Events --- */
prevBtn.onclick=()=>{cur>0&&(cur--,renderQuestion(cur))};nextBtn.onclick=()=>{cur<QUESTIONS.length-1&&(cur++,renderQuestion(cur))};submitBtn.onclick=submitQuiz;restartBtn.onclick=restartQuiz;

/* --- Init --- */
totalQ.textContent=QUESTIONS.length;renderQuestion(0);startTimer();updateScore();

/* --- Disable Right-Click & Shortcuts --- */
document.addEventListener('contextmenu', e=>{e.preventDefault();alert("Right-click disabled.")});
document.addEventListener('keydown', e=>{
  if(e.key==="F12"||(e.ctrlKey&&["u","s","l"].includes(e.key.toLowerCase()))||(e.ctrlKey&&e.shiftKey&&["i","j","c"].includes(e.key.toLowerCase()))){
    e.preventDefault();alert("This action is disabled.");return false;
  }
});
</script>
</body>
</html>
